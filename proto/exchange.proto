syntax = "proto3";

package exchange;

option go_package = "github.com/kayden-vs/zaraba/pb";

service Exchange {
    rpc PlaceMarketOrder(Order) returns (Match);
    rpc PlaceLimitOrder(PlaceLimitOrderRequest) returns (Match);
}

message Order {
    // int64 id = 1;
    // int64 price = 2; 
    double size = 3; 
    bool bid = 4;
    Limit limit = 5;
    int64 timestamp = 6;
}

message Limit {
    int64 price = 1;
    repeated Order orders = 2;
    double total_volume = 3;
}

message PlaceLimitOrderRequest {
    int64 price = 1;
    Order order = 2;
}

message Match {
    Order ask = 1;
    Order bid = 2;
    double sizeFilled = 3;
    int64 price = 4;
}